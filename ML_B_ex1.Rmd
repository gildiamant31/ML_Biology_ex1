---
title: "ML_B_ex1"
author: "itamar_living in dream, Yishay is donkey"
date: "29 3 2022"
output: pdf_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

here some intrduction
```{r setup, include=FALSE}
library(tidyverse)
```

import the dataset to a local variable:
```{r}
surveys <- read_csv("netflix-rotten-tomatoes-metacritic-imdb.csv")
```

taking a quick look:
```{r}
str(surveys)
view(surveys)
```

Some information is already known to us just from calling the table. We know how many rows and columns there are, and we have some idea regarding the type of variables (text, numeric) but not much else.

A few commands to help us learn more about the structure of the data are shown here:

```{r}
dim(surveys)
nrow(surveys) 
ncol(surveys) 

head(surveys)
tail(surveys)

names(surveys)

str(surveys)
summary(surveys)
```
## Data Variation

One important fact to know about our data is its variation, can you think of reasons why? 

```{r}
# plotting a scatter plot 
ggplot(data = surveys) +
  geom_point(mapping = aes(x = "IMDb Score", y = "Hidden Gem Score"))

# creating boxplot
ggplot(data = surveys, mapping = aes(x = "IMDb Score", y = "Hidden Gem Score")) + 
  geom_boxplot(mapping = aes(group = cut_width("IMDb Score", 0.1)))

# Variance between two categorical variables
ggplot(data = surveys) +
  geom_count(mapping = aes(x = "IMDb Score", y = Genre))

```

רעיונות לגרפים

בדיקה של הכנסות לפי ז'אנרים

השוואה בין סוגי הדירוג השונים

מבקרים מול ציון סופי


עליה בסוגים של ז'אנרים לפי שנה 

כמות הצבעות לגובה ציון

כמות פרסים לגובה ציון ולכמות הצבעות


ספירת מספר מופעים של תוכן

אורך לפי שפה 

הכנסות סרט מול סדרה


פקודות שימושיות 
```{r}

#הפרדת עמודה לכמה עמודות
surveys_fixed <- surveys %>% separate(`Release Date`, c("day", "month", "year"), sep = " ", convert = TRUE)
surveys_fixed$`Netflix Release Date` <- as.Date(surveys$`Netflix Release Date`)
surveys_fixed$Boxoffice = gsub("\\$", "", surveys_fixed$Boxoffice)
surveys_fixed$Boxoffice = gsub("\\,", "", surveys_fixed$Boxoffice)
surveys_fixed$Boxoffice = as.integer(surveys_fixed$Boxoffice)


# בחירת עמודות
surveys_selected <- select(surveys, where(is.numeric))
surveys_selected <- select(surveys, !starts_with("Link"))

#בחירת שורות
surveys_selected <- surveys %>% filter(grepl("Action", Genre) | `Series or Movie` == Movie)

ספירת מספר מופעים של תוכן
surveys %>% group_by(Runtime) %>%  tally(sort = TRUE)

# לפרסר למספרי את הערך של זמן הסרט
surveys$Runtime[surveys$Runtime == "1-2 hour"] <- "1.5"


```



## Data Visualisation - It is not working on this dataset!!

```{r}
ggplot(data = surveys) +
  geom_bar(mapping = aes(x = Title))

ggplot(data = surveys) +
  geom_histogram(mapping = aes(x = "Hidden Gem Score"), binwidth = 0.5)

ggplot(data = surveys) +
  geom_histogram(mapping = aes(x = "Hidden Gem Score"), binwidth = 0.1)

ggplot(data = surveys) + 
  geom_bar(mapping = aes(x = Title, fill = Title))

ggplot(data = surveys) + 
  geom_bar(mapping = aes(x = Title, fill = Genre))
```

## Including Plots

You can also embed plots, for example:

```{r pressure, echo=FALSE}
plot(pressure)
```

Note that the `echo = FALSE` parameter was added to the code chunk to prevent printing of the R code that generated the plot.
